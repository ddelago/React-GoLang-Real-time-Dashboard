<?xml version="1.0"?>
<Panel DisplayIndex="#RoverSimDisplayIndex" BackgroundColor="#BgColor" VirtualWidth="#PanelWidth" VirtualHeight="#PanelHeight">

    <If Value="@ROVER_MENU_VISIBLE">
        <True>
            <PixelStream Y="80" Width="1160" Height="870" HorizontalAlign="Center" Protocol="MJPEG" Host="#RoverEdgeHost" Port="#RoverPixelStreamPort" Path="video?nativeresolution=1"/>
        </True>
        <False>
            <PixelStream Protocol="MJPEG" Host="#RoverEdgeHost" Port="#RoverPixelStreamPort" Path="video?nativeresolution=1"/>
        </False>
    </If>

    <If Value="@ROVER_OVERLAY_VISIBLE">
        <Container X="10" Y="140" Width="200" Height="980">
            <If Value="@ROVER_MENU_VISIBLE">
                <True>
                    <Rectangle Height="810" FillColor="0 0 0 0.6"/>
                </True>
                <False>
                    <Rectangle FillColor="0 0 0 0.6"/>
                </False>
            </If>
            <String Y="800" HorizontalAlign="Center" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Pos (m)</String>
            <String X="10" Y="750" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">X:</String>
            <String X="190" Y="750" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_RELPOR_X_POS(%.2f)</String>
            <String X="10" Y="700" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Y:</String>
            <String X="190" Y="700" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_RELPOR_Y_POS(%.2f)</String>
            <String X="10" Y="650" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Z:</String>
            <String X="190" Y="650" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_RELPOR_Z_POS(%.2f)</String>
            <String Y="550" HorizontalAlign="Center" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Wheel RPM</String>
            <String X="10" Y="500" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">LF:</String>
            <String X="190" Y="500" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_LF_WHEEL_RATE(%.2f)</String>
            <String X="10" Y="450" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">LR:</String>
            <String X="190" Y="450" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_LR_WHEEL_RATE(%.2f)</String>

            <String Y="350" HorizontalAlign="Center" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Camera</String>
            <String X="10" Y="300" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Pan:</String>
            <String X="190" Y="300" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_CAMERA_PAN(%.1f)</String>
            <String X="10" Y="250" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Tilt:</String>
            <String X="190" Y="250" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_CAMERA_TILT(%.1f)</String>
            <String X="10" Y="200" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Zoom:</String>
            <String X="190" Y="200" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_CAMERA_ZOOM(%.1f)</String>
        </Container>


        <Container X="1390" Y="140" Width="200" Height="980">
            <If Value="@ROVER_MENU_VISIBLE">
                <True>
                    <Rectangle FillColor="0 0 0 0.6" Y="810" Height="660" VerticalAlign="Top"/>
                </True>
                <False>
                    <Rectangle FillColor="0 0 0 0.6" Height="830" VerticalAlign="Top"/>
                </False>
            </If>
            <String Y="800" HorizontalAlign="Center" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Vel (m/s)</String>
            <String X="10" Y="750" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">X:</String>
            <String X="190" Y="750" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_RELPOR_X_VEL(%.2f)</String>
            <String X="10" Y="700" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Y:</String>
            <String X="190" Y="700" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_RELPOR_Y_VEL(%.2f)</String>
            <String X="10" Y="650" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Z:</String>
            <String X="190" Y="650" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_RELPOR_Z_VEL(%.2f)</String>
            <String Y="550" HorizontalAlign="Center" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Wheel RPM</String>
            <String X="10" Y="500" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">RF:</String>
            <String X="190" Y="500" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_RF_WHEEL_RATE(%.2f)</String>
            <String X="10" Y="450" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">RR:</String>
            <String X="190" Y="450" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_RR_WHEEL_RATE(%.2f)</String>
            <String Y="350" HorizontalAlign="Center" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Ellip Coords</String>
            <String X="10" Y="300" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Lt:</String>
            <String X="190" Y="300" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_LATITUDE(%.3f)</String>
            <String X="10" Y="250" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Ln:</String>
            <String X="190" Y="250" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_LONGTITUDE(%.3f)</String>
            <String X="10" Y="200" HorizontalAlign="Left" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">Alt:</String>
            <String X="190" Y="200" HorizontalAlign="Right" VerticalAlign="Top" Color="#OverlayText" ShadowOffset="4">@ROVER_ALTITUDE(%.0f)</String>


        </Container>
        <If Value="@ROVER_MENU_VISIBLE">
            <True>
                <Container X="10" Y="960" Width="1580" Height="60">
                    <Rectangle FillColor="0 0 0 0.6"/>
                    <String X="220" HorizontalAlign="Left" VerticalAlign="Middle" Color="#OverlayText" ShadowOffset="4">Distance: @ROVER_POR_RANGE(% .2f) m</String>
                    <String X="1360" HorizontalAlign="Right" VerticalAlign="Middle" Color="#OverlayText" ShadowOffset="4">Velocity: @ROVER_POR_RANGE_RATE(% .2f) m/s</String>
                </Container>
            </True>
            <False>
                <Container X="10" Y="1130" Width="1580" Height="60">
                    <Rectangle FillColor="0 0 0 0.6"/>
                    <String X="220" HorizontalAlign="Left" VerticalAlign="Middle" Color="#OverlayText" ShadowOffset="4">Distance: @ROVER_POR_RANGE(% .2f) m</String>
                    <String X="1360" HorizontalAlign="Right" VerticalAlign="Middle" Color="#OverlayText" ShadowOffset="4">Velocity: @ROVER_POR_RANGE_RATE(% .2f) m/s</String>
                </Container>
            </False>
        </If>
        <Container X="210" Y="10" Width="1180" Height="60">
            <Rectangle FillColor="0 0 0 0.6"/>
            <If Value="@ROVER_SIM_CONNECTED">
                <True>
                    <If Operator="eq" Value1="@ROVER_SIM_MODE" Value2="5">
                        <True>
                            <Circle X="1150" Y="30" Radius="20" FillColor="0 1 0" LineColor="1 1 1"/>
                        </True>
                        <False>
                            <Circle X="1150" Y="30" Radius="20" FillColor="0 0 1" LineColor="1 1 1"/>
                        </False>
                    </If>
                </True>
                <False>
                    <Circle X="1150" Y="30" Radius="20" FillColor="1 0 0" LineColor="1 1 1"/>
                </False>
            </If>
            <If Operator="eq" Value1="@ROVER_CRUISE_CONTROL_IND" Value2="1">
                <True>
                    <Circle X="30" Y="30" Radius="20" FillColor="0 1 0" LineColor="1 1 1"/>
                </True>
                <False>
                    <Circle X="30" Y="30" Radius="20" FillColor="0 0 0" LineColor="1 1 1"/>
                </False>
            </If>
        </Container>
    </If>

    <If Value="@ROVER_MENU_VISIBLE">
        <Include>remoteOperationTopMenu.xml</Include>
        <Include>${dcappDisplayHome}/modules/nexsys_common/panels/timebar.xml</Include>
    </If>

    <Button Style="LeftBezelButton" Type="Momentary" X="#lx" Y="#l7y" Variable="@ROVER_CAMERA_RESET_CMD" BezelKey="#9">
        <On><Rectangle Style="LeftBezelButton" FillColor="#ButtonOn .8"/></On>
        <Off><Rectangle Style="LeftBezelButton" FillColor="#ButtonOff .8"/></Off>
        <String Style="LeftBezelButton">Camera\nReset</String>
    </Button>

    <Button Style="CornerBezelButton" X="#lx" Y="#l8y" SwitchVariable="@REMOTE_HC_MODE_CMD" IndicatorVariable="@REMOTE_HC_MODE_STATUS" On="6" BezelKey="#l8">
      <On><Rectangle Style="CornerBezelButton" FillColor="#ButtonOn .8"/></On>
      <Transition><Rectangle Style="CornerBezelButton" FillColor="#ButtonTrans .8"/></Transition>
      <Off><Rectangle Style="CornerBezelButton" FillColor="#ButtonOff .8"/></Off>
      <String Style="CornerBezelButton">Grab HC\nFocus</String>
    </Button>

    <Button Style="RightBezelButton" Type="Toggle" X="#rx" Y="#r7y" Variable="@ROVER_OVERLAY_VISIBLE" BezelKey="#r7">
        <On><Rectangle Style="RightBezelButton" FillColor="#ButtonOn .8"/></On>
        <Off><Rectangle Style="RightBezelButton" FillColor="#ButtonOff .8"/></Off>
        <String Style="RightBezelButton">Overlay\nOn/Off</String>
    </Button>

    <Button Style="CornerBezelButton" Type="Toggle" X="#rx" Y="#r8y" Variable="@ROVER_MENU_VISIBLE" BezelKey="#r8">
        <On><Rectangle Style="CornerBezelButton" FillColor="#ButtonOn .8"/></On>
        <Off><Rectangle Style="CornerBezelButton" FillColor="#ButtonOff .8"/></Off>
        <String Style="CornerBezelButton">Menu\nOn/Off</String>
    </Button>

<!-- don't need standard_elements here because sim status is shown via circle indicators above
    <Include>${dcappDisplayHome}/modules/nexsys_common/panels/standard_elements.xml</Include>
-->
    <If Value="@ROVER_SIM_CONNECTED">
        <True>
            <If Operator="eq" Value1="@ROVER_SIM_MODE" Value2="5">
                <False>
                    <Rectangle FillColor="0 0 1 0.25"/>
                </False>
            </If>
        </True>
        <False>
            <Rectangle FillColor="1 0 0 0.25"/>
        </False>
    </If>
</Panel>
